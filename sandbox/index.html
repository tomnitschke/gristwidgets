<html>
<head>
  <script src="https://docs.getgrist.com/grist-plugin-api.js"></script>

  <script type="module" src="./index.js"></script>

  <style>
    :not(:defined) { visibility: hidden; }
    html, body { margin:0; padding:0; var(--grist-theme-medium-font-size); font-family: var(--grist-theme-font-family); }
    sl-dialog::part(close-button) { display: none; }
    #configContainer { display:flex; flex-direction:column; row-gap:var(--sl-spacing-small); }
    #content { height:100%;width:100%;border:solid 1px var(--grist-theme-widget-border);box-sizing:border-box; }
    #configOpenBtn { position:absolute; z-index:9999; top:20px; right:20px; }
  </style>
</head>
<body>
  <sl-button id="configOpenBtn">Sandbox Config</sl-button>
  <sl-dialog id="config" label="Config">
    <div id="configContainer">
      <sl-checkbox class="configItem" id="config_enableAutoreload" size="small">Enable auto-reload</sl-checkbox>
      <sl-checkbox class="configItem" id="config_importGristThemeCSSVars" size="small">Import Grist theme CSS vars into loaded content</sl-checkbox>
      <sl-textarea class="configItem" id="config_jsPrelude" label="Default JS content">
        <p slot="help-text">Any JS code defined here will always be inserted into the sandbox, regardless of what user content gets loaded. This code will get loaded before any user code.</p>
      </sl-textarea>
      <sl-textarea class="configItem" id="config_htmlPrelude" label="Default HTML content">
        <p slot="help-text">Any HTML markup defined here will always be inserted into the sandbox, regardless of what user content gets loaded. This markup will be inserted after any user markup.</p>
      </sl-textarea>
    </div>
    <sl-button-group slot="footer">
      <sl-button id="configResetBtn" size="small">Reset</sl-button>
      <sl-button size="small" variant="primary" onclick="document.querySelector('#config').hide();">Close</sl-button>
    </sl-button-group>
  </sl-dialog>
  <sl-dialog id="loadingOverlay" label="Loading...">
  </sl-dialog>
</body>
</html>
